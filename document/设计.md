# 1	éœ€æ±‚åˆ†æ

## 1.1	åŠŸèƒ½æ€§éœ€æ±‚

##### æ³¨å†ŒåŠŸèƒ½

- å…è®¸ç”¨æˆ·é€šè¿‡é‚®ç®±æˆ–æ‰‹æœºå·è¿›è¡Œæ³¨å†Œ
- è®¾ç½®å¯†ç ä¸ç¡®è®¤
- Captcha éªŒè¯

<br>

##### ç™»å½•åŠŸèƒ½

- ä½¿ç”¨é‚®ç®±æˆ–æ‰‹æœºå·è¿›è¡Œç™»å½•
- ä½¿ç”¨æ‰‹æœºå·ä¸çŸ­ä¿¡éªŒè¯ç è¿›è¡Œç™»å½•
- è®°ä½æˆ‘åŠŸèƒ½
- è´¦å·æ‰¾å›
- Captcha éªŒè¯

<br>

##### ç”¨æˆ·ä¸ªäººä¿¡æ¯

- è®¾ç½®ç”¨æˆ·åï¼ˆå¯é‡å¤ï¼‰
- è®¾ç½®å¤´åƒ
- ä¿®æ”¹å¯†ç 

<br>

##### ç¬”è®°

- ä½¿ç”¨ MarkDown è¯­æ³•è¿›è¡Œç¬”è®°
- å¯ä»¥æ’å…¥å›¾ç‰‡

<br>

##### ç¬”è®°ç®¡ç†

- ç¬”è®°æœç´¢
- ç¬”è®°æ‰¹é‡é€‰æ‹©
- ç¬”è®°åˆ é™¤
- ç¬”è®°æ’åºï¼ˆæŒ‰æ—¶é—´æ’åºã€æŒ‰æ ‡é¢˜æ’åºï¼‰
- ç¬”è®°åˆ†ç»„
- ç¬”è®°ä¿®æ”¹
- ç¬”è®°å›æ”¶ç«™

<br>

##### å®šæ—¶ä»»åŠ¡æé†’

- å‘é€é‚®ä»¶æˆ–çŸ­ä¿¡è¿›è¡Œæé†’ã€‚
- ä»…æ”¯æŒæ–‡å­—å†…å®¹ã€‚
- ä¸ç¬”è®°å±äºå¹¶åˆ—å…³ç³»

<br>

##### åå°ç®¡ç†

- æ•°æ®åˆ†æ
- æƒé™ç®¡ç†
- ç”¨æˆ·ç®¡ç†
- ç¬”è®°ç®¡ç†

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 1.2	éåŠŸèƒ½æ€§éœ€æ±‚

##### æ€§èƒ½éœ€æ±‚

<br>

##### ç¯å¢ƒéœ€æ±‚

- æ”¯æŒä¸»æµç½‘é¡µæµè§ˆï¼ˆä¸æ”¯æŒæ—§ç‰ˆæœ¬ IE æµè§ˆå™¨ï¼‰
- æ”¯æŒæ‰‹æœºæµè§ˆå™¨

<br>

##### å®‰å…¨éœ€æ±‚

<br>

##### é¡µé¢è®¾è®¡éœ€æ±‚

- åŠŸèƒ½ç®€æ´æ˜“æ‡‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>
# 2	æŠ€æœ¯é€‰å‹

##### JDK ç‰ˆæœ¬

jdk 11







##### æœåŠ¡å™¨

- Linux version 3.10.0-514.26.2.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-11) (GCC) ) #1 SMP Tue Jul 4 15:04:05 UTC 2017

<br>

##### å…³ç³»å‹æ•°æ®åº“

- Ver 8.0.26 for Linux on x86_64  (MySQL Community Server - GPL)

<br>

##### JDK

- JDK 17

<br>

##### æ•°æ®ç¼“å­˜

###### æœ¬åœ°ç¼“å­˜

- Nginx
- OpenResty
- Redis

###### è¿›ç¨‹ç¼“å­˜

- Caffeine

###### ç¼“å­˜åŒæ­¥

- Canal

<br>

##### æœç´¢å¼•æ“

- Elastic Search

<br>

##### åç«¯æŠ€æœ¯

- Spring
- Spring MVC
- Spring Boot
- MyBatis
- MyBatis Plus

<br>

##### å¾®æœåŠ¡æ¡†æ¶

- Spring Cloud Alibaba

<br>

##### æ¶ˆæ¯ä¸­é—´ä»¶

- RabbitMQ

<br>

##### å‰ç«¯æ¡†æ¶

- Vue.js + ElementUI

<br>

##### ğŸ“Œåˆ†å¸ƒå¼ä»£ç ç”Ÿæˆå™¨

- å¾…å®š

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

# 3	æ¨¡å—åˆ’åˆ†ä¸å®ç°ã€â­ã€‘

## 3.1	ç”¨æˆ·æ¨¡å—

### 3.1.1	åŠŸèƒ½

##### ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½

- ä½¿ç”¨é‚®ç®±å‘é€éªŒè¯ç 
- ã€â—å¾…å®Œæˆã€‘ä½¿ç”¨ SMS å‘é€éªŒè¯ç ç™»å½•

<br>

##### ç”¨æˆ·ç™»å½•åŠŸèƒ½

- ä½¿ç”¨é‚®ç®±åœ°å€é…åˆå¯†ç ç™»å½•
- ä½¿ç”¨æ‰‹æœºå·ç ä¸éªŒè¯ç ç™»å½•
- ä½¿ç”¨å¾®ä¿¡æˆ–è…¾è®¯æ‰«ç ç™»å½•

<br>

##### ç”¨æˆ·ä¸ªäººä¸»é¡µ

- ä¿®æ”¹å¤´åƒ
- è®¾ç½®æˆ–ä¿®æ”¹é‚®ç®±åœ°å€
- è®¾ç½®æˆ–ä¿®æ”¹æ‰‹æœºå·ç 
- ä¿®æ”¹æ€§åˆ«ä¸å¹´é¾„
- ä¿®æ”¹ç”¨æˆ·ç­¾å

<br>

##### ç”¨æˆ·ä¼šå‘˜åŠŸèƒ½

- å‡çº§ä¸ºè¶…çº§ä¼šå‘˜ï¼š
  - éœ€è¦è°ƒç”¨ä»˜è´¹æ¨¡å— API
  - ä¼šå‘˜æœ‰ä¿å­˜ç¬”è®°æ•°é‡ä¸Šé™ï¼ˆæœªå¼€é€šä¼šå‘˜ä¸Šé™ä¸º10ï¼‰

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

### 3.1.2	æ•°æ®è¡¨

##### ç”¨æˆ·ä¿¡æ¯è¡¨ï¼ˆuser_infoï¼‰

###### å­—æ®µ

| å­—æ®µå   | å­—æ®µç±»å‹         | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š            | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| -------- | ---------------- | -------- | ------ | --------------- | ----------- | -------- |
| id       | varchar(32)      | NOT NULL |        | ç”¨æˆ·id          | PRIMARY KEY |          |
| nickname | varchar(50)      |          | NULL   | æ˜µç§°            |             |          |
| sex      | tinyint unsigned |          | NULL   | æ€§åˆ« 0 ç”·ï¼Œ1 å¥³ |             |          |
| age      | tinyint unsigned |          | NULL   | å¹´é¾„            |             |          |
| avatar   | varchar(255)     |          | NULL   | ç”¨æˆ·å¤´åƒ        |             |          |
| sign     | varchar(100)     |          | NULL   | ç”¨æˆ·ç­¾å        |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š       | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç”¨æˆ·ä¿¡æ¯è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```mysql
CREATE TABLE `user_info` (
  `id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·id',
  `nickname` varchar(50) DEFAULT NULL COMMENT 'æ˜µç§°',
  `sex` tinyint unsigned DEFAULT NULL COMMENT 'æ€§åˆ« 0 ç”·ï¼Œ1 å¥³',
  `age` tinyint unsigned DEFAULT NULL COMMENT 'å¹´é¾„',
  `avatar` varchar(255) DEFAULT NULL COMMENT 'ç”¨æˆ·å¤´åƒ',
  `sign` varchar(100) DEFAULT NULL COMMENT 'ç”¨æˆ·ç­¾å',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç”¨æˆ·ä¿¡æ¯è¡¨';
```

<br>

##### ç”¨æˆ·ç™»å½•éªŒè¯è¡¨ï¼ˆuser_checkï¼‰  

###### å­—æ®µ

| å­—æ®µå      | å­—æ®µç±»å‹     | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š                                          | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| ----------- | ------------ | -------- | ------ | --------------------------------------------- | ----------- | -------- |
| id          | varchar(32)  | NOT NULL |        | ç”¨æˆ·id                                        | PRIMARY KEY |          |
| mobile      | varchar(11)  |          | NULL   | æ‰‹æœºå·                                        | UNIQUE KEY  |          |
| email       | varchar(100  |          | NULL   | é‚®ç®±åœ°å€                                      | UNIQUE KEY  |          |
| openid_wx   | varchar(128) |          | NULL   | å¾®ä¿¡openid                                    | UNIQUE KEY  |          |
| password    | varchar(255) |          | NULL   | å¯†ç                                           |             |          |
| is_disabled | tinyint(1)   | NOT NULL | 0      | æ˜¯å¦ç¦ç”¨ã€‚1ï¼ˆtrueï¼‰å·²ç¦ç”¨ï¼Œ0ï¼ˆfalseï¼‰æœªç¦ç”¨ã€‚ |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š           | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | -------------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç”¨æˆ·ç™»å½•éªŒè¯è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```mysql
CREATE TABLE `user_check` (
  `id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·id',
  `mobile` varchar(11) DEFAULT NULL COMMENT 'æ‰‹æœºå·',
  `email` varchar(100) DEFAULT NULL COMMENT 'é‚®ç®±åœ°å€',
  `openid_wx` varchar(128) DEFAULT NULL COMMENT 'å¾®ä¿¡openid',
  `password` varchar(255) DEFAULT NULL COMMENT 'å¯†ç ',
  `is_disabled` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦ç¦ç”¨ 1ï¼ˆtrueï¼‰å·²ç¦ç”¨ï¼Œ  0ï¼ˆfalseï¼‰æœªç¦ç”¨',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_mobile` (`mobile`),
  UNIQUE KEY `uk_email` (`email`),  
  UNIQUE KEY `uk_openid_wx` (`openid_wx`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç”¨æˆ·ç™»å½•éªŒè¯è¡¨';
```

<br>

##### ç”¨æˆ·è¶…çº§ä¼šå‘˜ä¿¡æ¯è¡¨ï¼ˆuser_ultraï¼‰

###### å­—æ®µ

| å­—æ®µå      | å­—æ®µç±»å‹    | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š                               | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| ----------- | ----------- | -------- | ------ | ---------------------------------- | ----------- | -------- |
| id          | varchar(32) | NOT NULL |        | ç”¨æˆ·id                             | PRIMARY KEY |          |
| is_ultra    | tinyint(1)  | NOT NULL | 0      | æ˜¯å¦ä¸ºè¶…çº§ä¼šå‘˜ï¼Œ1ï¼ˆæ˜¯ï¼‰ï¼Œ0ï¼ˆä¸æ˜¯ï¼‰ |             |          |
| gmt_expired | datetime    |          | NULL   | è¶…çº§ä¼šå‘˜åˆ°æœŸæ—¶é—´                   |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š               | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ------------------ | -------- |
| `InnoDB`   | utf8mb4      | utf8mb4_0900_ai_ci | ç”¨æˆ·è¶…çº§ä¼šå‘˜ä¿¡æ¯è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```mysql
CREATE TABLE `user_ultra` (
  `id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·id',
  `is_ultra` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦ä¸ºè¶…çº§ä¼šå‘˜ï¼Œ1ï¼ˆæ˜¯ï¼‰ï¼Œ0ï¼ˆä¸æ˜¯ï¼‰',
  `gmt_expired` datetime DEFAULT NULL COMMENT 'è¶…çº§ä¼šå‘˜åˆ°æœŸæ—¶é—´',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç”¨æˆ·è¶…çº§ä¼šå‘˜ä¿¡æ¯è¡¨';
```

<br>

##### ç”¨æˆ·ç¬”è®°æ–‡ä»¶å¤¹è¡¨ï¼ˆuser_nfolderï¼‰

###### å­—æ®µ

| å­—æ®µå             | å­—æ®µç±»å‹     | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š               | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜                                             |
| ------------------ | ------------ | -------- | ------ | ------------------ | ----------- | ---------------------------------------------------- |
| id                 | varchar(32)  | NOT NULL |        | æ–‡ä»¶å¤¹id           | PRIMARY KEY |                                                      |
| user_id            | varchar(32)  | NOT NULL |        | ç”¨æˆ·id             | KEY         |                                                      |
| folder_name        | varchar(50)  | NOT NULL |        | æ–‡ä»¶å¤¹å           |             |                                                      |
| note_count         | int          | NOT NULL | 0      | æ–‡ä»¶å¤¹ä¸­ç¬”è®°çš„æ•°é‡ |             |                                                      |
| folder_description | varchar(100) |          | NULL   | æ–‡ä»¶å¤¹ç®€ä»‹         |             |                                                      |
| is_default         | tinyint(1)   | NOT NULL | 0      | æ˜¯å¦ä¸ºé»˜è®¤æ–‡ä»¶å¤¹   |             | æ³¨å†Œæ—¶ç¬¬ä¸€ä¸ªåˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œ<br>ç”¨æˆ·ä¸å¯åˆ é™¤é»˜è®¤æ–‡ä»¶å¤¹ |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š             | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---------------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç”¨æˆ·ç¬”è®°æ–‡ä»¶å¤¹è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```mysql
CREATE TABLE `user_nfolder` (
  `id` varchar(32) NOT NULL COMMENT 'æ–‡ä»¶å¤¹id',
  `user_id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·id',
  `folder_name` varchar(50) NOT NULL COMMENT 'æ–‡ä»¶å¤¹å',
  `note_count` int NOT NULL DEFAULT '0' COMMENT 'æ–‡ä»¶å¤¹ä¸­ç¬”è®°çš„æ•°é‡',
  `folder_description` varchar(100) DEFAULT NULL COMMENT 'æ–‡ä»¶å¤¹ç®€ä»‹',
  `is_default` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦ä¸ºé»˜è®¤æ–‡ä»¶å¤¹',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç”¨æˆ·æ–‡ä»¶å¤¹è¡¨';
```

###### æ³¨æ„

- ä¸€ä¸ªç”¨æˆ·æœ‰å¤šä¸ªç¬”è®°æ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªç¬”è®°æ–‡ä»¶å¤¹ä¸­æœ‰å¤šä¸ªç¬”è®°ï¼Œä½†æ˜¯ä¸€ç¯‡ç¬”è®°åªå±äºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚
- é»˜è®¤ç¬”è®°æ–‡ä»¶å¤¹çš„ id ä¸ user_id ç›¸åŒã€‚

<br>

##### ç”¨æˆ·æ”¶è—æ–‡ä»¶å¤¹è¡¨ï¼ˆuser_cfolderï¼‰

###### å­—æ®µ

| å­—æ®µå             | å­—æ®µç±»å‹     | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š               | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜                                             |
| ------------------ | ------------ | -------- | ------ | ------------------ | ----------- | ---------------------------------------------------- |
| id                 | varchar(32)  | NOT NULL |        | æ”¶è—å¤¹id           | PRIMARY KEY |                                                      |
| user_id            | varchar(32)  | NOT NULL |        | ç”¨æˆ·id             | KEY         |                                                      |
| folder_name        | varchar(50)  | NOT NULL |        | æ”¶è—å¤¹å           |             |                                                      |
| note_count         | int          | NOT NULL | 0      | æ”¶è—å¤¹ä¸­ç¬”è®°çš„æ•°é‡ |             |                                                      |
| folder_description | varchar(100) |          | NULL   | æ”¶è—å¤¹ç®€ä»‹         |             |                                                      |
| is_default         | tinyint(1)   | NOT NULL | 0      | æ˜¯å¦ä¸ºé»˜è®¤æ”¶è—å¤¹   |             | æ³¨å†Œæ—¶ç¬¬ä¸€ä¸ªåˆ›å»ºçš„æ”¶è—å¤¹ï¼Œ<br>ç”¨æˆ·ä¸å¯åˆ é™¤é»˜è®¤æ”¶è—å¤¹ |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š             | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---------------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç”¨æˆ·æ”¶è—æ–‡ä»¶å¤¹è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```mysql
CREATE TABLE `user_cfolder` (
  `id` varchar(32) NOT NULL COMMENT 'æ–‡ä»¶å¤¹id',
  `user_id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·id',
  `folder_name` varchar(50) NOT NULL COMMENT 'æ”¶è—å¤¹å',
  `note_count` int NOT NULL DEFAULT '0' COMMENT 'æ”¶è—å¤¹ä¸­ç¬”è®°çš„æ•°é‡',
  `folder_description` varchar(100) DEFAULT NULL COMMENT 'æ”¶è—å¤¹ç®€ä»‹',
  `is_default` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦ä¸ºé»˜è®¤æ”¶è—å¤¹',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç”¨æˆ·æ–‡ä»¶å¤¹è¡¨';
```

- é»˜è®¤æ”¶è—å¤¹çš„ id ä¸ user_id ç›¸åŒã€‚

<br>

##### â—ç”¨æˆ·å…³æ³¨è¡¨

<br>

##### â—ç”¨æˆ·æ•°æ®è¡¨

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 3.2	ç¬”è®°æ¨¡å—

### 3.2.1	åŠŸèƒ½

###### æ–°å¢ç¬”è®°

- ä½¿ç”¨ markdown ç¼–è¾‘å™¨ã€‚
- ã€â—å¾…å®Œæˆã€‘ç¬”è®°å¯ä»¥è®¾ç½®æ ‡ç­¾ã€‚

###### åˆ†äº«ç¬”è®°

- å°†ç¬”è®°åœ¨ç½‘ç«™é¦–é¡µå…¬å¼€ï¼Œå³åˆ†äº«åŠŸèƒ½ã€‚
- ç¼–è¾‘æ—¶æ·»åŠ åˆ†äº«ç¡®è®¤æ¡†ã€‚
- å¦‚æœæ˜¯æœ¬äººæ–‡ç« ï¼Œå¯ä»¥åœ¨æ–‡ç« é¡µè¿›è¡Œåˆ†äº«æˆ–å–æ¶ˆåˆ†äº«ã€‚

###### ç¬”è®°åˆ†ç±»

- å»ºç«‹æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªç¬”è®°éƒ½å¿…é¡»æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ‰€å±çš„æ–‡ä»¶å¤¹ã€‚

###### ä¿®æ”¹ç¬”è®°

- å¯¹ç¬”è®°å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚

###### åˆ é™¤ç¬”è®°

- å°†ç¬”è®°è®¾ç½®ä¸ºé€»è¾‘åˆ é™¤çŠ¶æ€ï¼Œå¹¶åœ¨å›æ”¶ç«™ä¸­ä¿å­˜ 30 å¤©ã€‚

###### ç¬”è®°å›æ”¶ç«™

- å°†ç¬”è®°å½»åº•åˆ é™¤ï¼Œæˆ–è€…ä»å›æ”¶ç«™ä¸­æ¢å¤ã€‚

###### è¯„è®ºåŠŸèƒ½

- å¦‚æœæ˜¯å·²ç»åˆ†äº«çš„ç¬”è®°ï¼Œåˆ™æ·»åŠ è¯„è®ºåŠŸèƒ½ã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

### 3.2.2	è¡¨è®¾è®¡

##### ç¬”è®°æ­£æ–‡è¡¨ï¼ˆnote_textï¼‰

###### å­—æ®µ

| å­—æ®µå | å­—æ®µç±»å‹    | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š         | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| ------ | ----------- | -------- | ------ | ------------ | ----------- | -------- |
| id     | varchar(32) | NOT NULL |        | ç¬”è®°ID       | PRIMARY KEY |          |
| text   | text        |          |        | ç¬”è®°æ­£æ–‡å†…å®¹ |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š       | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç¬”è®°æ­£æ–‡è¡¨ |          |

###### å»ºè¡¨è¯­å¥ 

```sql
CREATE TABLE `note_text` (
  `id` varchar(32) NOT NULL COMMENT 'ç¬”è®°ID',
  `text` text COMMENT 'ç¬”è®°æ­£æ–‡å†…å®¹',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç¬”è®°æ­£æ–‡è¡¨';
```

<br>

##### ç¬”è®°ä¿¡æ¯è¡¨ï¼ˆnote_infoï¼‰

###### å­—æ®µ

| å­—æ®µå           | å­—æ®µç±»å‹        | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š                                      | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| ---------------- | --------------- | -------- | ------ | ----------------------------------------- | ----------- | -------- |
| id               | varchar(32)     | NOT NULL |        | ç¬”è®°ID                                    | PRIMARY KEY |          |
| user_id          | varchar(32)     | NOT NULL |        | ç”¨æˆ·IDï¼ˆå‘å¸ƒè€…IDï¼‰                        | KEY         |          |
| note_folder_id   | varchar(32)     | NOT NULL |        | æ–‡ä»¶å¤¹ID                                  | KEY         |          |
| title            | varchar(50)     | NOT NULL |        | ç¬”è®°æ ‡é¢˜                                  | KEY         |          |
| likes            | bigint unsigned | NOT NULL | 0      | ç‚¹èµæ•°                                    |             |          |
| collection_count | bigint unsigned | NOT NULL | 0      | æ”¶è—æ•°                                    |             |          |
| comment_count    | bigint unsigned | NOT NULL | 0      | è¯„è®ºæ•°                                    |             |          |
| status           | tinyint(1)      | NOT NULL | 0      | å‘å¸ƒçŠ¶æ€ 1ï¼ˆtrueï¼‰å‘å¸ƒï¼Œ 0ï¼ˆfalseï¼‰æœªå‘å¸ƒ |             |          |
| version          | bigint unsigned | NOT NULL | 1      | ä¹è§‚é”                                    |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š       | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç¬”è®°ä¿¡æ¯è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```sql
CREATE TABLE `note_info` (
  `id` varchar(32) NOT NULL COMMENT 'ç¬”è®°ID',
  `user_id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·IDï¼ˆå‘å¸ƒè€…IDï¼‰',
  `note_folder_id` varchar(32) NOT NULL COMMENT 'æ–‡ä»¶å¤¹ID',
  `title` varchar(50) NOT NULL COMMENT 'ç¬”è®°æ ‡é¢˜',
  `likes` bigint unsigned NOT NULL DEFAULT '0' COMMENT 'ç‚¹èµæ•°',
  `collection_count` bigint unsigned NOT NULL DEFAULT '0' COMMENT 'æ”¶è—æ•°',
  `comment_count` bigint unsigned NOT NULL DEFAULT '0' COMMENT 'è¯„è®ºæ•°',
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'å‘å¸ƒçŠ¶æ€ 1ï¼ˆtrueï¼‰å‘å¸ƒï¼Œ 0ï¼ˆfalseï¼‰æœªå‘å¸ƒ',
  `version` bigint unsigned NOT NULL DEFAULT '1' COMMENT 'ä¹è§‚é”',
  `is_deleted` tinyint(1) DEFAULT NULL COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_title` (`title`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_note_folder_id` (`note_folder_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç¬”è®°ä¿¡æ¯è¡¨';
```

<br>

##### ç¬”è®°â€”æ”¶è—å¤¹å…³ç³»è¡¨ï¼ˆnote_user_collectionï¼‰

###### å­—æ®µ

| å­—æ®µå               | å­—æ®µç±»å‹    | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š     | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| -------------------- | ----------- | -------- | ------ | -------- | ----------- | -------- |
| id                   | varchar(32) | NOT NULL |        | ID       | PRIMARY KEY |          |
| note_id              | varchar(32) | NOT NULL |        | ç¬”è®°ID   | KEY         |          |
| collection_folder_id | varchar(32) | NOT NULL |        | æ”¶è—å¤¹ID | KEY         |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š              | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ----------------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç¬”è®°â€”æ”¶è—å¤¹å…³ç³»è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```sql
CREATE TABLE `note_user_collection` (
  `id` varchar(32) NOT NULL COMMENT 'ID',
  `note_id` varchar(32) NOT NULL COMMENT 'ç¬”è®°ID',
  `collection_folder_id` varchar(32) NOT NULL COMMENT 'æ”¶è—å¤¹ID',
  `is_deleted` tinyint unsigned NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_note_id` (`note_id`),
  KEY `idx_collection_folder_id` (`collection_folder_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COMMENT='ç¬”è®°â€”æ”¶è—å¤¹å…³ç³»è¡¨';
```

<br>

##### ç¬”è®°è¯„è®ºè¡¨ï¼ˆnote_commentï¼‰

###### å­—æ®µ

| å­—æ®µå         | å­—æ®µç±»å‹        | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š                   | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| -------------- | --------------- | -------- | ------ | ---------------------- | ----------- | -------- |
| id             | varchar(32)     | NOT NULL |        | è¯„è®ºID                 | PRIMARY KEY |          |
| note_id        | varchar(32)     | NOT NULL |        | ç¬”è®°ID                 | KEY         |          |
| user_id        | varchar(32)     | NOT NULL |        | ç”¨æˆ·IDï¼ˆè¯„è®ºå‘å¸ƒè€…IDï¼‰ | KEY         |          |
| nickname       | varchar(50)     | NOT NULL |        | ç”¨æˆ·æ˜µç§°               |             |          |
| avatar         | varchar(255)    | NOT NULL |        | ç”¨æˆ·å¤´åƒ               |             |          |
| content        | varchar(500)    | NOT NULL |        | è¯„è®ºå†…å®¹               |             |          |
| likes          | bigint unsigned | NOT NULL | 0      | ç‚¹èµæ•°                 |             |          |
| parent_id      | varchar(32)     |          | NULL   | æ‰€å±è¯„è®ºID             |             |          |
| reply_nickname | varchar(50)     |          | NULL   | è¢«å›å¤äººæ˜µç§°           |             |          |
| reply_user_id  | varchar(32)     |          | NULL   | è¢«å›å¤äººID             |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š       | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | ç¬”è®°è¯„è®ºè¡¨ |          |

###### å»ºè¡¨è¯­å¥

```sql
CREATE TABLE `note_comment` (
  `id` varchar(32) NOT NULL DEFAULT '' COMMENT 'è¯„è®ºID',
  `note_id` varchar(32) NOT NULL DEFAULT '' COMMENT 'ç¬”è®°id',
  `user_id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·IDï¼ˆè¯„è®ºå‘å¸ƒè€…IDï¼‰',
  `nickname` varchar(50) NOT NULL COMMENT 'ç”¨æˆ·æ˜µç§°',
  `avatar` varchar(255) NOT NULL COMMENT 'ç”¨æˆ·å¤´åƒ',
  `content` varchar(500) NOT NULL COMMENT 'è¯„è®ºå†…å®¹',
  `likes` bigint unsigned NOT NULL DEFAULT '0' COMMENT 'ç‚¹èµæ•°',
  `reply_id` varchar(32) NOT NULL COMMENT 'æ‰€å±è¯„è®º ID',
  `reply_nickname` varchar(50) DEFAULT NULL COMMENT 'è¢«å›å¤äººæ˜µç§°',
  `reply_user_id` varchar(32) DEFAULT NULL COMMENT 'ç”¨æˆ·IDï¼ˆè¯„è®ºå‘å¸ƒè€…IDï¼‰',
  `is_deleted` tinyint unsigned NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='ç¬”è®°è¯„è®ºè¡¨';
```

###### æ³¨æ„

`è¢«å›å¤äººæ˜µç§° `ã€ `è¢«å›å¤äººID` ä¸ `æ‰€å±è¯„è®ºID` åˆ†å±äºä¸¤ä¸ªä¸åŒçš„è¯„è®ºï¼Œç±»ä¼¼ä¸‹å›¾ï¼š

![image-20220110223505674](img/image-20220110223505674.png)

<br>

##### â—ç¬”è®°æ ‡ç­¾è¡¨

```

```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>
## 3.3	ä»˜è´¹æ¨¡å—

### 3.3.1	åŠŸèƒ½

##### é€šè¿‡å¾®ä¿¡æ”¯ä»˜

<br>

##### é€šè¿‡æ”¯ä»˜å®æ”¯ä»˜

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>


### 3.3.2	è¡¨è®¾è®¡

##### è¶…çº§ä¼šå‘˜è®¢å•è¡¨ï¼ˆpay_ultra_orderï¼‰

###### å­—æ®µ

| å­—æ®µå    | å­—æ®µç±»å‹      | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š                            | ç´¢å¼•ç±»å‹    | è¡¥å……è¯´æ˜ |
| --------- | ------------- | -------- | ------ | ------------------------------- | ----------- | -------- |
| id        | varchar(32)   | NOT NULL |        | ID                              | PRIMARY KEY |          |
| order_no  | varchar(20)   | NOT NULL |        | è®¢å•å·ï¼Œç”±å¤–éƒ¨æ”¯ä»˜æ¥å£è¿”å›      | UNIQUE KEY  |          |
| user_id   | varchar(32)   | NOT NULL |        |                                 |             |          |
| total_fee | decimal(10,2) | NOT NULL | 0.01   | è®¢å•é‡‘é¢ï¼ˆå•ä½ï¼šåˆ†ï¼‰            |             |          |
| body      | varchar(100)  | NOT NULL |        | å•†å“æè¿°                        |             |          |
| pay_type  | tinyint       | NOT NULL |        | æ”¯ä»˜ç±»å‹ï¼ˆ1ï¼šå¾®ä¿¡ 2ï¼šæ”¯ä»˜å®ï¼‰   |             |          |
| status    | tinyint       |          | 0      | è®¢å•çŠ¶æ€ï¼ˆ0ï¼šæœªæ”¯ä»˜ 1ï¼šå·²æ”¯ä»˜ï¼‰ |             |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š           | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | -------------- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | è¶…çº§ä¼šå‘˜è®¢å•è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```sql
CREATE TABLE `pay_ultra_order` (
  `id` varchar(32) NOT NULL DEFAULT 'ID',
  `order_no` varchar(20) NOT NULL COMMENT 'è®¢å•å·',
  `user_id` varchar(32) NOT NULL COMMENT 'ç”¨æˆ·id',
  `description` varchar(100) NOT NULL COMMENT 'å•†å“æè¿°',
  `total_fee` decimal(10,2) NOT NULL DEFAULT '0.01' COMMENT 'è®¢å•é‡‘é¢ï¼ˆåˆ†ï¼‰',
  `pay_type` tinyint NOT NULL COMMENT 'æ”¯ä»˜ç±»å‹ï¼ˆ1ï¼šå¾®ä¿¡ 2ï¼šæ”¯ä»˜å®ï¼‰',
  `status` tinyint NOT NULL DEFAULT '0' COMMENT 'è®¢å•çŠ¶æ€ï¼ˆ0ï¼šæœªæ”¯ä»˜ 1ï¼šå·²æ”¯ä»˜ï¼‰',
  
  `is_deleted` tinyint unsigned NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  
  PRIMARY KEY (`id`),
  UNIQUE KEY `ux_order_no` (`order_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='è¶…çº§ä¼šå‘˜è®¢å•è¡¨';
```

<br>

##### è¶…çº§ä¼šå‘˜æ”¯ä»˜æ—¥å¿—è¡¨ï¼ˆpay_ultra_logï¼‰

###### å­—æ®µ

| å­—æ®µå         | å­—æ®µç±»å‹      | å¯ä¸ºç©º   | é»˜è®¤å€¼ | æ³¨é‡Š                          | ç´¢å¼•ç±»å‹ | è¡¥å……è¯´æ˜ |
| -------------- | ------------- | -------- | ------ | ----------------------------- | -------- | -------- |
| id             | varchar(32)   | NOT NULL |        | ID                            |          |          |
| order_no       | varchar(20)   | NOT NULL |        | è®¢å•å·                        |          |          |
| pay_time       | datetime      |          | NULL   | æ”¯ä»˜å®Œæˆæ—¶é—´                  |          |          |
| total_fee      | decimal(10,2) |          | 0.01   | æ”¯ä»˜é‡‘é¢ï¼ˆåˆ†ï¼‰                |          |          |
| transaction_id | varchar(30)   |          | NULL   | äº¤æ˜“æµæ°´å·                    |          |          |
| trade_state    | char(20)      |          | NULL   | äº¤æ˜“çŠ¶æ€                      |          |          |
| pay_type       | tinyint       | NOT NULL |        | æ”¯ä»˜ç±»å‹ï¼ˆ1ï¼šå¾®ä¿¡ 2ï¼šæ”¯ä»˜å®ï¼‰ |          |          |
| attr           | text          |          |        | å…¶ä»–å±æ€§                      |          |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š               | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ------------------ | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci | è¶…çº§ä¼šå‘˜æ”¯ä»˜æ—¥å¿—è¡¨ |          |

###### å»ºè¡¨è¯­å¥

```
CREATE TABLE `pay_ultra_log` (
  `id` varchar(32) NOT NULL DEFAULT 'ID',
  `order_no` varchar(20) NOT NULL COMMENT 'è®¢å•å·',
  `pay_time` datetime DEFAULT NULL COMMENT 'æ”¯ä»˜å®Œæˆæ—¶é—´',
  `total_fee` decimal(10,2) NOT NULL DEFAULT '0.01' COMMENT 'æ”¯ä»˜é‡‘é¢ï¼ˆåˆ†ï¼‰',
  `transaction_id` varchar(30) DEFAULT NULL COMMENT 'äº¤æ˜“æµæ°´å·',
  `trade_state` char(20) DEFAULT NULL COMMENT 'äº¤æ˜“çŠ¶æ€',
  `pay_type` tinyint NOT NULL COMMENT 'æ”¯ä»˜ç±»å‹ï¼ˆ1ï¼šå¾®ä¿¡ 2ï¼šæ”¯ä»˜å®ï¼‰',
  `attr` text COMMENT 'å…¶ä»–å±æ€§',
  
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='è¶…çº§ä¼šå‘˜æ”¯ä»˜æ—¥å¿—è¡¨';
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 3.4	å‰å°æ¨¡å—

### 3.4.1	åŠŸèƒ½

##### æ ¹æ®å…³é”®å­—æœç´¢è¢«å‘å¸ƒçš„ç¬”è®°

- ä½¿ç”¨ ElasticSearch è¿›è¡Œæœç´¢

<br>

<br>

----

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 3.5	å›¾ç‰‡ä¸Šä¼ æ¨¡å—

##### ä¸Šä¼ å¤´åƒ

- ä½¿ç”¨é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨
- 

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 3.6	çŸ­ä¿¡éªŒè¯ã€é‚®ç®±éªŒè¯

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 3.7	ç«™å†…æ¶ˆæ¯æ¨¡å—



---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>

## 3.8	æ•°æ®åŒæ­¥æ¨¡å—

---

<div STYLE="page-break-after: always;">
    <br>
    <br>
    <br>
    <br>
    <br></div>
# é™„å½•

##### è¡¨è®¾è®¡æ¨¡æ¿


````
##### è¡¨ï¼ˆï¼‰

###### å­—æ®µ

| å­—æ®µå | å­—æ®µç±»å‹ | å¯ä¸ºç©º | é»˜è®¤å€¼ | æ³¨é‡Š | ç´¢å¼•ç±»å‹ | è¡¥å……è¯´æ˜ |
| ------ | -------- | ------ | ------ | ---- | -------- | -------- |
|        |          |        |        |      |          |          |

###### å»ºè¡¨å±æ€§

| æ•°æ®åº“å¼•æ“ | é»˜è®¤æ•°æ®ç¼–ç  | æ’åºè§„åˆ™           | æ³¨é‡Š | è¡¥å……è¯´æ˜ |
| ---------- | ------------ | ------------------ | ---- | -------- |
| InnoDB     | utf8mb4      | utf8mb4_0900_ai_ci |      |          |

###### å»ºè¡¨è¯­å¥

```
CREATE TABLE `` (
  `id` varchar(32) NOT NULL DEFAULT '' COMMENT 'ID',
  `is_deleted` tinyint unsigned NOT NULL DEFAULT '0' COMMENT 'é€»è¾‘åˆ é™¤ 1ï¼ˆtrueï¼‰å·²åˆ é™¤ï¼Œ 0ï¼ˆfalseï¼‰æœªåˆ é™¤',
  `gmt_create` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
  `gmt_modified` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='';
```
````

